<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ç¨‹çµ±è¨ˆå­¸ç·šä¸Šæ¸¬é©—ç³»çµ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #7c3aed;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
            --bg-main: #0f172a;
            --bg-card: #1e293b;
            --bg-hover: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--bg-main);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
            border-bottom: 2px solid var(--border);
            animation: fadeInDown 0.6s ease-out;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
            animation: fadeIn 0.8s ease-out 0.2s both;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            border-color: var(--primary);
            box-shadow: 0 8px 24px rgba(37, 99, 235, 0.15);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            color: var(--primary);
            display: block;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .quiz-card {
            background: var(--bg-card);
            border-radius: 16px;
            border: 1px solid var(--border);
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 0.6s ease-out 0.4s both;
        }

        .question-number {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: 500;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            background: var(--bg-main);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, rgba(37, 99, 235, 0.1), transparent);
            transition: width 0.3s ease;
            z-index: 0;
        }

        .option:hover::before {
            width: 100%;
        }

        .option:hover {
            border-color: var(--primary);
            transform: translateX(4px);
        }

        .option-letter {
            min-width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            position: relative;
            z-index: 1;
        }

        .option-text {
            flex: 1;
            font-size: 1rem;
            position: relative;
            z-index: 1;
        }

        .option.selected {
            border-color: var(--primary);
            background: rgba(37, 99, 235, 0.1);
        }

        .option.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }

        .option.wrong {
            border-color: var(--error);
            background: rgba(239, 68, 68, 0.1);
        }

        .option.correct .option-letter {
            background: var(--success);
        }

        .option.wrong .option-letter {
            background: var(--error);
        }

        .feedback {
            margin-top: 2rem;
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid;
            animation: slideIn 0.4s ease-out;
        }

        .feedback.correct {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
            color: var(--success);
        }

        .feedback.wrong {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--error);
            color: var(--error);
        }

        .feedback-title {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .explanation {
            color: var(--text-primary);
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
            line-height: 1.8;
        }

        .button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans TC', sans-serif;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
        }

        .button:active {
            transform: translateY(0);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .button.secondary {
            background: var(--bg-hover);
            box-shadow: none;
        }

        .button.secondary:hover {
            background: var(--border);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .quiz-card {
                padding: 1.5rem;
            }

            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .button-group {
                flex-direction: column;
            }

            .button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š å·¥ç¨‹çµ±è¨ˆå­¸æ¸¬é©—</h1>
            <p class="subtitle">æ¯æ¬¡æ¸¬é©—éš¨æ©Ÿç”Ÿæˆæ–°é¡Œç›® Â· å³æ™‚å›é¥‹å­¸ç¿’</p>
        </header>

        <div class="stats-bar">
            <div class="stat-card">
                <span class="stat-value" id="totalQuestions">0</span>
                <div class="stat-label">ç¸½æ¸¬é©—æ¬¡æ•¸</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="correctAnswers">0</span>
                <div class="stat-label">ç­”å°é¡Œæ•¸</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="accuracy">0%</span>
                <div class="stat-label">æ­£ç¢ºç‡</div>
            </div>
        </div>

        <div id="quizArea"></div>
    </div>

    <script>
        // é¡Œåº«è³‡æ–™
        const questionBank = [
            {
                id: 1,
                topic: "æ©Ÿç‡èˆ‡ç¨ç«‹äº‹ä»¶",
                question: "æŸç‡Ÿé€ å…¬å¸å°‡æŠ•æ¨™ Aã€Bã€C ä¸‰é …å·¥ç¨‹ï¼Œå·¥ç¨‹å¾—æ¨™ç‡åˆ†åˆ¥ç‚º P(A)=0.5ï¼ŒP(B)=0.8ï¼ŒP(C)=0.2ã€‚å‡è¨­äº‹ä»¶ Aã€Bã€C äº’ç‚ºç¨ç«‹ï¼Œä»¥ X è¡¨ç¤ºå¾—æ¨™å·¥ç¨‹çš„ä»¶æ•¸ã€‚è«‹å•å¾—æ¨™ 2 ä»¶å·¥ç¨‹çš„æ©Ÿç‡ P(X=2) ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.08",
                    "0.32",
                    "0.42",
                    "0.50"
                ],
                correct: 2,
                explanation: "P(X=2) éœ€è¨ˆç®—ä¸‰ç¨®æƒ…æ³ï¼š(Aä¸”Bä¸”éC) + (Aä¸”éBä¸”C) + (éAä¸”Bä¸”C)ã€‚è¨ˆç®—å¾—ï¼š(0.5Ã—0.8Ã—0.8) + (0.5Ã—0.2Ã—0.2) + (0.5Ã—0.2Ã—0.2) = 0.32 + 0.02 + 0.08 = 0.42"
            },
            {
                id: 2,
                topic: "éç ´å£æ€§æª¢é©—èˆ‡ç¨ç«‹äº‹ä»¶",
                question: "åˆ©ç”¨ NDT å„€å™¨åµæ¸¬é›»éŠ²è£‚ç¸«ï¼Œåµå‡ºç‡ç‚º 0.8ã€‚å‡è¨­æ¯å€‹è£‚ç¸«è¢«åµæ¸¬å‡ºä¹‹äº‹ä»¶äº’ç‚ºç¨ç«‹ã€‚è‹¥é›»éŠ²ä¸­æœ‰ 2 æ¢è£‚ç¸«ï¼Œè«‹å•çš†ä¸è¢«åµæ¸¬å‡ºçš„æ©Ÿç‡ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.01",
                    "0.04",
                    "0.16",
                    "0.36"
                ],
                correct: 1,
                explanation: "å–®ä¸€è£‚ç¸«æœªè¢«åµæ¸¬çš„æ©Ÿç‡ç‚º 1-0.8 = 0.2ã€‚å…©æ¢è£‚ç¸«çš†æœªè¢«åµæ¸¬çš„æ©Ÿç‡ = (0.2)Â² = 0.04"
            },
            {
                id: 3,
                topic: "æœŸæœ›å€¼èˆ‡è®Šç•°æ•¸",
                question: "æŸéš¨æ©Ÿè®Šæ•¸ N çš„æ©Ÿç‡åˆ†å¸ƒç‚ºï¼šP(N=0)=0.6ï¼ŒP(N=1)=0.3ï¼ŒP(N=2)=0.1ã€‚è«‹å• N çš„æœŸæœ›å€¼ E[N] ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.3",
                    "0.5",
                    "0.7",
                    "1.0"
                ],
                correct: 1,
                explanation: "E[N] = 0Ã—0.6 + 1Ã—0.3 + 2Ã—0.1 = 0 + 0.3 + 0.2 = 0.5"
            },
            {
                id: 4,
                topic: "å¸¸æ…‹åˆ†å¸ƒ",
                question: "æŸåŸå¸‚å¹´é›¨é‡ X ç¬¦åˆå¹³å‡å€¼ 1500mmã€è®Šç•°ä¿‚æ•¸ CV=0.2 çš„å¸¸æ…‹åˆ†å¸ƒã€‚è«‹å•æ¨™æº–å·® Ïƒ ç‚ºä½•ï¼Ÿ",
                options: [
                    "150mm",
                    "200mm",
                    "300mm",
                    "500mm"
                ],
                correct: 2,
                explanation: "è®Šç•°ä¿‚æ•¸ CV = Ïƒ/Î¼ï¼Œå› æ­¤ Ïƒ = CV Ã— Î¼ = 0.2 Ã— 1500 = 300mm"
            },
            {
                id: 5,
                topic: "å¸¸æ…‹åˆ†å¸ƒæ¨™æº–åŒ–",
                question: "æ‰¿ä¸Šé¡Œï¼Œå¹´é›¨é‡ä½æ–¼ 900mm çš„æ©Ÿç‡ P(X<900) ç´„ç‚ºä½•ï¼Ÿï¼ˆå·²çŸ¥æ¨™æº–å¸¸æ…‹åˆ†å¸ƒ Z=-2 æ™‚ï¼ŒP(Z<-2)â‰ˆ0.0228ï¼‰",
                options: [
                    "0.0228",
                    "0.1587",
                    "0.5000",
                    "0.9772"
                ],
                correct: 0,
                explanation: "Z = (900-1500)/300 = -2ï¼ŒæŸ¥è¡¨å¾— P(Z<-2) â‰ˆ 0.0228"
            },
            {
                id: 6,
                topic: "Poisson åˆ†å¸ƒåŸºç¤",
                question: "æŸåœ‹å¹³å‡æ¯ 5 å¹´ç™¼ç”Ÿ 2 æ¬¡ç ´å£æ€§åœ°éœ‡ï¼Œå‡è¨­åœ°éœ‡ç™¼ç”Ÿéµå¾ Poisson åˆ†å¸ƒã€‚è«‹å• 3 å¹´å…§åªæœ‰ 1 æ¬¡ç ´å£æ€§åœ°éœ‡çš„æ©Ÿç‡ç´„ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.30",
                    "0.36",
                    "0.42",
                    "0.50"
                ],
                correct: 1,
                explanation: "å¹³å‡ç™¼ç”Ÿç‡ Î» = 2/5 = 0.4 æ¬¡/å¹´ã€‚3 å¹´æœŸæœ›å€¼ Î» = 3Ã—0.4 = 1.2ã€‚P(X=1) = e^(-1.2) Ã— 1.2^1 / 1! â‰ˆ 0.3614"
            },
            {
                id: 7,
                topic: "Poisson åˆ†å¸ƒæ‡‰ç”¨",
                question: "æŸåœ°å€ç™¼ç”Ÿæ´ªæ°´çš„å¹³å‡ç‡ç‚º 8 å¹´ 1 æ¬¡ï¼Œéµå¾ Poisson åˆ†å¸ƒã€‚è«‹å• 10 å¹´ä¸­æ²’æœ‰æ´ªæ°´çš„æ©Ÿç‡ç´„ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.12",
                    "0.29",
                    "0.36",
                    "0.50"
                ],
                correct: 1,
                explanation: "10 å¹´æœŸæœ›å€¼ Î» = 10/8 = 1.25ã€‚P(X=0) = e^(-1.25) â‰ˆ 0.2865"
            },
            {
                id: 8,
                topic: "Poisson åˆ†å¸ƒèˆ‡ç¨ç«‹äº‹ä»¶",
                question: "æŸå¤§æ¨“æ‰€åœ¨åœ°ï¼Œç ´å£æ€§å¼·éœ‡å¹³å‡ 50 å¹´ç™¼ç”Ÿ 1 æ¬¡ï¼Œé¢¶é¢¨å¹³å‡ 25 å¹´ 1 æ¬¡ï¼Œçš†éµå¾ Poisson åˆ†å¸ƒã€‚è«‹å• 10 å¹´ä¸­åŒæ™‚å—é¢¶é¢¨èˆ‡å¼·éœ‡ä¾µè¥²çš„æ©Ÿç‡ç´„ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.06",
                    "0.18",
                    "0.27",
                    "0.45"
                ],
                correct: 0,
                explanation: "10å¹´å…§å¼·éœ‡ Î»â‚=0.2ï¼Œé¢¶é¢¨ Î»â‚‚=0.4ã€‚P(é¢¨â‰¥1 ä¸” éœ‡â‰¥1) = (1-e^(-0.4))(1-e^(-0.2)) â‰ˆ 0.0598"
            },
            {
                id: 9,
                topic: "å·¥å®‰æ„å¤– Poisson åˆ†å¸ƒ",
                question: "æŸç‡Ÿé€ å» å·¥äººå¹³å‡ 6 å€‹æœˆç™¼ç”Ÿ 1 æ¬¡æ„å¤–äº‹ä»¶ï¼Œéµå¾ Poisson åˆ†å¸ƒã€‚è«‹å• 1 å¹´ä¸­ç™¼ç”Ÿæ„å¤–æ¬¡æ•¸çš„æœŸæœ›å€¼ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.5 æ¬¡",
                    "1.0 æ¬¡",
                    "2.0 æ¬¡",
                    "6.0 æ¬¡"
                ],
                correct: 2,
                explanation: "å¹³å‡ç™¼ç”Ÿç‡ = 1æ¬¡/0.5å¹´ = 2æ¬¡/å¹´ã€‚å› æ­¤ 1 å¹´æœŸæœ›å€¼ E[X] = Î» = 2"
            },
            {
                id: 10,
                topic: "æ¢ä»¶æ©Ÿç‡",
                question: "æŸ NDT å„€å™¨åµå‡ºè£‚ç¸«ç‡ç‚º 0.8ã€‚é›»éŠ²ä¸­çœŸæ­£è£‚ç¸«æ•¸ N çš„åˆ†å¸ƒç‚ºï¼šP(N=0)=0.6ï¼ŒP(N=1)=0.3ï¼ŒP(N=2)=0.1ã€‚è‹¥å„€å™¨åµä¸å‡ºä»»ä½•è£‚ç¸«ï¼Œå‰‡é›»éŠ²ä¸­çœŸæ­£æ²’æœ‰è£‚ç¸«çš„æ©Ÿç‡ç´„ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.60",
                    "0.75",
                    "0.90",
                    "0.95"
                ],
                correct: 2,
                explanation: "P(æœªåµæ¸¬) = 0.6Ã—1 + 0.3Ã—0.2 + 0.1Ã—0.04 = 0.664ã€‚P(N=0|æœªåµæ¸¬) = 0.6/0.664 â‰ˆ 0.904"
            },
            {
                id: 11,
                topic: "PDF èˆ‡æœŸæœ›å€¼",
                question: "æŸéš¨æ©Ÿè®Šæ•¸ R çš„ PDF ç‚º f(r)=3/500(r-10)(20-r)ï¼Œ10â‰¤râ‰¤20ã€‚æ­¤åˆ†å¸ƒåœ¨å€é–“å…§å°ç¨±ï¼Œè«‹å• R çš„æœŸæœ›å€¼ E[R] ç‚ºä½•ï¼Ÿ",
                options: [
                    "10",
                    "12",
                    "15",
                    "18"
                ],
                correct: 2,
                explanation: "ç”±æ–¼ PDF åœ¨å€é–“ [10,20] å…§å°ç¨±ï¼ŒæœŸæœ›å€¼å¿…ç‚ºå°ç¨±ä¸­å¿ƒé» E[R] = (10+20)/2 = 15"
            },
            {
                id: 12,
                topic: "ç¨ç«‹éš¨æ©Ÿè®Šæ•¸å’Œ",
                question: "æ—…å®¢ç”± A å¸‚ç¶“ B å¸‚åˆ° C å¸‚ï¼ŒT1(Aåˆ°B)èˆ‡ T2(Båˆ°C)ç‚ºç¨ç«‹éš¨æ©Ÿè®Šæ•¸ï¼Œç©¿é B å¸‚éœ€ 1hrã€‚è‹¥ E[T1]=2.3hrï¼ŒE[T2]=4.75hrï¼Œå‰‡ A åˆ° C ç¸½æ™‚é–“çš„æœŸæœ›å€¼ç‚ºä½•ï¼Ÿ",
                options: [
                    "6.05 hr",
                    "7.05 hr",
                    "8.05 hr",
                    "9.05 hr"
                ],
                correct: 2,
                explanation: "ç¸½æ™‚é–“ T = T1 + T2 + 1ï¼ŒæœŸæœ›å€¼ E[T] = E[T1] + E[T2] + 1 = 2.3 + 4.75 + 1 = 8.05hr"
            },
            {
                id: 13,
                topic: "å¸¸æ…‹åˆ†å¸ƒä¿¡è³´å€é–“",
                question: "å·¥ç¨‹ A å¹³å‡ 30 å¤©å®Œå·¥ï¼Œæœ‰ 90% ä¿¡å¿ƒå¯åœ¨ 40 å¤©å…§å®Œæˆã€‚è‹¥å®Œå·¥å¤©æ•¸ X ç‚ºå¸¸æ…‹åˆ†å¸ƒï¼Œå‰‡æ¨™æº–å·® Ïƒ ç´„ç‚ºä½•ï¼Ÿï¼ˆå·²çŸ¥ zâ‚€.â‚‰=1.28ï¼‰",
                options: [
                    "5.81 å¤©",
                    "7.81 å¤©",
                    "9.81 å¤©",
                    "11.81 å¤©"
                ],
                correct: 1,
                explanation: "P(Xâ‰¤40)=0.9 å°æ‡‰ z=1.28ã€‚ç”± (40-30)/Ïƒ = 1.28 å¾— Ïƒ â‰ˆ 7.81"
            },
            {
                id: 14,
                topic: "Poisson è¤‡åˆäº‹ä»¶",
                question: "æŸé«˜æ¨“åœ¨ 10 å¹´ä¸­ï¼Œå¼·éœ‡ç™¼ç”Ÿç‡ Î»â‚=0.2ï¼Œé¢¶é¢¨ç™¼ç”Ÿç‡ Î»â‚‚=0.4ï¼Œçš†éµå¾ Poisson åˆ†å¸ƒã€‚è‹¥å¼·éœ‡æå£æ©Ÿç‡ 0.1ï¼Œé¢¶é¢¨æå£æ©Ÿç‡ 0.05ï¼Œä¸”æå£äº‹ä»¶ç¨ç«‹ã€‚è«‹å• 10 å¹´ä¸­å—æå£çš„æ©Ÿç‡ç´„ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.15",
                    "0.30",
                    "0.45",
                    "0.60"
                ],
                correct: 2,
                explanation: "P(10å¹´å—æ) = 1 - P(ç„¡é¢¨ä¸”ç„¡éœ‡) = 1 - e^(-0.4)Ã—e^(-0.2) â‰ˆ 0.4512"
            },
            {
                id: 15,
                topic: "è®Šç•°ä¿‚æ•¸",
                question: "æŸéš¨æ©Ÿè®Šæ•¸ N çš„åˆ†å¸ƒç‚ºï¼šP(N=0)=0.6ï¼ŒP(N=1)=0.3ï¼ŒP(N=2)=0.1ã€‚å·²çŸ¥ E[N]=0.5ï¼ŒVar(N)=0.45ï¼Œè«‹å•è®Šç•°ä¿‚æ•¸ CV ç´„ç‚ºä½•ï¼Ÿ",
                options: [
                    "0.67",
                    "0.90",
                    "1.34",
                    "2.00"
                ],
                correct: 2,
                explanation: "è®Šç•°ä¿‚æ•¸ CV = Ïƒ/Î¼ = âˆš(0.45)/0.5 = 0.671/0.5 â‰ˆ 1.34"
            }
        ];

        // å…¨åŸŸè®Šæ•¸
        let stats = {
            total: 0,
            correct: 0
        };

        let currentQuestion = null;
        let answered = false;

        // åˆå§‹åŒ–
        function init() {
            loadStats();
            generateNewQuestion();
        }

        // è¼‰å…¥çµ±è¨ˆè³‡æ–™
        function loadStats() {
            const saved = localStorage.getItem('quizStats');
            if (saved) {
                stats = JSON.parse(saved);
                updateStatsDisplay();
            }
        }

        // å„²å­˜çµ±è¨ˆè³‡æ–™
        function saveStats() {
            localStorage.setItem('quizStats', JSON.stringify(stats));
            updateStatsDisplay();
        }

        // æ›´æ–°çµ±è¨ˆé¡¯ç¤º
        function updateStatsDisplay() {
            document.getElementById('totalQuestions').textContent = stats.total;
            document.getElementById('correctAnswers').textContent = stats.correct;
            const accuracy = stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        // éš¨æ©Ÿé¸æ“‡é¡Œç›®
        function generateNewQuestion() {
            answered = false;
            const randomIndex = Math.floor(Math.random() * questionBank.length);
            currentQuestion = questionBank[randomIndex];
            renderQuestion();
        }

        // æ¸²æŸ“é¡Œç›®
        function renderQuestion() {
            const quizArea = document.getElementById('quizArea');
            quizArea.innerHTML = `
                <div class="quiz-card">
                    <div class="question-number">é¡Œå‹ï¼š${currentQuestion.topic}</div>
                    <div class="question-text">${currentQuestion.question}</div>
                    <div class="options">
                        ${currentQuestion.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})">
                                <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                                <div class="option-text">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div id="feedback"></div>
                    <div class="button-group">
                        <button class="button" onclick="submitAnswer()" id="submitBtn">æäº¤ç­”æ¡ˆ</button>
                        <button class="button secondary" onclick="generateNewQuestion()">ä¸‹ä¸€é¡Œ</button>
                        <button class="button secondary" onclick="resetStats()">é‡ç½®çµ±è¨ˆ</button>
                    </div>
                </div>
            `;
        }

        // é¸æ“‡é¸é …
        function selectOption(index) {
            if (answered) return;
            
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[index].classList.add('selected');
            
            currentQuestion.selectedAnswer = index;
        }

        // æäº¤ç­”æ¡ˆ
        function submitAnswer() {
            if (answered) {
                generateNewQuestion();
                return;
            }

            if (currentQuestion.selectedAnswer === undefined) {
                alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆï¼');
                return;
            }

            answered = true;
            stats.total++;

            const options = document.querySelectorAll('.option');
            const feedbackDiv = document.getElementById('feedback');
            const submitBtn = document.getElementById('submitBtn');

            // æ¨™è¨˜æ­£ç¢ºç­”æ¡ˆ
            options[currentQuestion.correct].classList.add('correct');

            // æª¢æŸ¥ç­”æ¡ˆ
            if (currentQuestion.selectedAnswer === currentQuestion.correct) {
                stats.correct++;
                feedbackDiv.innerHTML = `
                    <div class="feedback correct">
                        <div class="feedback-title">âœ“ ç­”å°äº†ï¼åšå¾—å¥½ï¼</div>
                        <div class="explanation">${currentQuestion.explanation}</div>
                    </div>
                `;
            } else {
                options[currentQuestion.selectedAnswer].classList.add('wrong');
                feedbackDiv.innerHTML = `
                    <div class="feedback wrong">
                        <div class="feedback-title">âœ— ç­”éŒ¯äº†ï¼Œç¹¼çºŒåŠ æ²¹ï¼</div>
                        <div class="explanation">${currentQuestion.explanation}</div>
                    </div>
                `;
            }

            // ç¦ç”¨é¸é …
            options.forEach(opt => opt.style.pointerEvents = 'none');
            submitBtn.textContent = 'ä¸‹ä¸€é¡Œ';

            saveStats();
        }

        // é‡ç½®çµ±è¨ˆ
        function resetStats() {
            if (confirm('ç¢ºå®šè¦é‡ç½®æ‰€æœ‰çµ±è¨ˆè³‡æ–™å—ï¼Ÿ')) {
                stats = { total: 0, correct: 0 };
                saveStats();
                generateNewQuestion();
            }
        }

        // å•Ÿå‹•
        init();
    </script>
</body>
</html>
